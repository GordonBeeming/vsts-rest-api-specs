{
    "parameters": {
        "body": {
            "accessLevel": {
                "accountLicenseType": "stakeholder"
            },
            "projectEntitlements": [
                {
                    "group": {
                        "groupType": "projectReader"
                    },
                    "projectRef": {
                        "id": "c944c983-e90b-4499-938a-5897ea954ace"
                    }
                }
            ],
            "servicePrincipal": {
                "origin": "aad",
                "originId": "92e26ce8-8e7c-4555-bdab-813b34b8e53a",
                "subjectKind": "servicePrincipal"
            }
        }
    },
    "responses": {
        "200": {
            "body": {
                "operationResult": {
                    "servicePrincipalId": "b34cdbfd-1f2d-60c6-b04a-8a99d301a6cd",
                    "isSuccess": true,
                    "errors": [],
                    "result": {
                        "servicePrincipal": {
                            "subjectKind": "servicePrincipal",
                            "applicationId": "a9a6a563-c4c6-42cd-8bd6-90259e8f99f4",
                            "metaType": "application",
                            "directoryAlias": "92e26ce8-8e7c-4555-bdab-813b34b8e53a",
                            "domain": "5e46c442-89f0-4452-b132-3336eaeec3fc",
                            "principalName": "a9a6a563-c4c6-42cd-8bd6-90259e8f99f4",
                            "mailAddress": null,
                            "origin": "aad",
                            "originId": "92e26ce8-8e7c-4555-bdab-813b34b8e53a",
                            "displayName": "Service principal",
                            "_links": {
                                "self": {
                                    "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/ServicePrincipals/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                                },
                                "memberships": {
                                    "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/Memberships/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                                },
                                "membershipState": {
                                    "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/MembershipStates/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                                },
                                "storageKey": {
                                    "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/StorageKeys/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                                },
                                "avatar": {
                                    "href": "https://dev.azure.com/fabrikam/_apis/GraphProfile/MemberAvatars/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                                }
                            },
                            "url": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/ServicePrincipals/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk",
                            "descriptor": "aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                        },
                        "id": "b34cdbfd-1f2d-60c6-b04a-8a99d301a6cd",
                        "accessLevel": {
                            "licensingSource": "account",
                            "accountLicenseType": "earlyAdopter",
                            "msdnLicenseType": "none",
                            "licenseDisplayName": "Early Adopter",
                            "status": "pending",
                            "statusMessage": "",
                            "assignmentSource": "unknown"
                        },
                        "lastAccessedDate": "0001-01-01T00:00:00Z",
                        "dateCreated": "2023-03-27T11:32:45.7401972Z",
                        "projectEntitlements": [],
                        "groupAssignments": []
                    }
                },
                "isSuccess": true,
                "servicePrincipalEntitlement": {
                    "servicePrincipal": {
                        "subjectKind": "servicePrincipal",
                        "applicationId": "a9a6a563-c4c6-42cd-8bd6-90259e8f99f4",
                        "metaType": "application",
                        "directoryAlias": "92e26ce8-8e7c-4555-bdab-813b34b8e53a",
                        "domain": "5e46c442-89f0-4452-b132-3336eaeec3fc",
                        "principalName": "a9a6a563-c4c6-42cd-8bd6-90259e8f99f4",
                        "mailAddress": null,
                        "origin": "aad",
                        "originId": "92e26ce8-8e7c-4555-bdab-813b34b8e53a",
                        "displayName": "Service principal",
                        "_links": {
                            "self": {
                                "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/ServicePrincipals/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                            },
                            "memberships": {
                                "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/Memberships/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                            },
                            "membershipState": {
                                "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/MembershipStates/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                            },
                            "storageKey": {
                                "href": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/StorageKeys/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                            },
                            "avatar": {
                                "href": "https://dev.azure.com/fabrikam/_apis/GraphProfile/MemberAvatars/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                            }
                        },
                        "url": "https://vssps.dev.azure.com/fabrikam/_apis/Graph/ServicePrincipals/aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk",
                        "descriptor": "aadsp.YjM0Y2RiZmQtMWYyZC03MGM2LWIwNGEtOGE5OWQzMDFhNmNk"
                    },
                    "id": "b34cdbfd-1f2d-60c6-b04a-8a99d301a6cd",
                    "accessLevel": {
                        "licensingSource": "account",
                        "accountLicenseType": "earlyAdopter",
                        "msdnLicenseType": "none",
                        "licenseDisplayName": "Early Adopter",
                        "status": "pending",
                        "statusMessage": "",
                        "assignmentSource": "unknown"
                    },
                    "lastAccessedDate": "0001-01-01T00:00:00Z",
                    "dateCreated": "2023-03-27T11:32:45.7401972Z",
                    "projectEntitlements": [],
                    "groupAssignments": []
                }
            }
        }
    },
    "x-ms-vss-migrated": true,
    "x-ms-vss-example-request": {
        "url": "https://https://vsaex.dev.azure.com/fabrikam/_apis/ServicePrincipalEntitlements?api-version=7.1-preview.1"
    }
}